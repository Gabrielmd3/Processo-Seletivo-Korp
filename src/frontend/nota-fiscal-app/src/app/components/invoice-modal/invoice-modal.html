<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20" (click)="onClose()">

  <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4" (click)="$event.stopPropagation()" id="invoice-content">
    <div class="p-8">
      <div class="flex justify-between items-start border-b pb-4 mb-6">
        <div>
          <h2 class="text-2xl font-bold">Nota Fiscal</h2>
          <p class="text-gray-500">Número: {{ nota?.numero }}</p>
        </div>
        <div class="text-right">
          <p class="font-semibold">Data de Emissão</p>
          <p class="text-gray-600">{{ nota?.dataEmissao | date:'dd/MM/yyyy HH:mm' }}</p>
        </div>
      </div>

      <table class="w-full mb-6">
        <thead>
          <tr class="border-b">
            <th class="text-left font-semibold py-2">Produto</th>
            <th class="text-center font-semibold py-2">Qtd.</th>
            <th class="text-right font-semibold py-2">Preço Unit.</th>
            <th class="text-right font-semibold py-2">Subtotal</th>
          </tr>
        </thead>
        <tbody>
          @if (nota) {
            @for (item of nota.itens; track item.id) {
              <tr class="border-b">
                <td class="py-2">{{ item.produtoNome }}</td> <td class="text-center py-2">{{ item.quantidade }}</td>
                <td class="text-right py-2">{{ item.precoUnitario | currency:'BRL' }}</td>
                <td class="text-right py-2">{{ (item.quantidade * item.precoUnitario) | currency:'BRL' }}</td>
              </tr>
            }
          }
        </tbody>
      </table>

      <div class="flex justify-end mb-8">
        <div class="text-right">
          <p class="text-gray-600">Total</p>
          <p class="text-2xl font-bold">{{ getTotal() | currency:'BRL' }}</p>
        </div>
      </div>
    </div>

    <div class="bg-gray-100 px-8 py-4 flex justify-end space-x-4 rounded-b-lg print:hidden">
      <button (click)="onClose()" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
        Fechar
      </button>
      <button (click)="onPrint()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
        Imprimir
      </button>
    </div>
  </div>
</div>